<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartFree ERP - Gestión de Usuarios</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }

        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 250px;
            height: 100vh;
            background-color: #000;
            color: white;
            padding: 20px 0;
            z-index: 1000;
        }

        .logo {
            text-align: center;
            padding: 20px;
            border-bottom: 1px solid #333;
            margin-bottom: 20px;
        }

        .logo h2 {
            font-size: 24px;
            font-weight: bold;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            margin: 5px 0;
        }

        .nav-link {
            display: block;
            padding: 12px 20px;
            color: #ccc;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .nav-link:hover, .nav-link.active {
            background-color: #333;
            color: white;
            border-right: 3px solid #666;
        }

        .main-content {
            margin-left: 250px;
            padding: 20px;
        }

        .header {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-title {
            font-size: 28px;
            font-weight: bold;
            color: #000;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background-color: #000;
            color: white;
        }

        .btn-primary:hover {
            background-color: #333;
        }

        .btn-secondary {
            background-color: #666;
            color: white;
        }

        .btn-secondary:hover {
            background-color: #555;
        }

        .btn-danger {
            background-color: #333;
            color: white;
        }

        .btn-danger:hover {
            background-color: #555;
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 14px;
        }

        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .card-header {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-body {
            padding: 20px;
        }

        .users-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .user-card {
            background-color: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .user-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: #000;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .user-info h3 {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .user-role {
            background-color: #f0f0f0;
            color: #333;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            display: inline-block;
            margin-bottom: 10px;
        }

        .user-role.admin { background-color: #000; color: white; }
        .user-role.vendedor { background-color: #666; color: white; }
        .user-role.instalador { background-color: #999; color: white; }
        .user-role.distribuidor { background-color: #777; color: white; }

        .user-actions {
            margin-top: 15px;
            display: flex;
            gap: 10px;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
        }

        .table th,
        .table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #333;
        }

        .table tr:hover {
            background-color: #f8f9fa;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-active {
            background-color: #000;
            color: white;
        }

        .status-inactive {
            background-color: #ccc;
            color: #666;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 500px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .close {
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #999;
        }

        .close:hover {
            color: #000;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
        }

        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .form-control:focus {
            outline: none;
            border-color: #000;
        }

        .view-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .toggle-btn {
            padding: 8px 16px;
            border: 1px solid #ddd;
            background-color: white;
            cursor: pointer;
            border-radius: 4px;
        }

        .toggle-btn.active {
            background-color: #000;
            color: white;
            border-color: #000;
        }

        .search-box {
            width: 300px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .permissions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .permission-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
        }

        .stat-number {
            font-size: 32px;
            font-weight: bold;
            color: #000;
        }

        .stat-label {
            color: #666;
            font-size: 14px;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <h2>SmartFree</h2>
            <small>ERP System</small>
        </div>
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="#" class="nav-link">📊 Dashboard</a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">📦 Inventario</a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">💰 Punto de Venta</a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">🔧 Operaciones</a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">🚚 Distribuidores</a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">📊 Reportería</a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link active">👥 Usuarios</a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">👤 Clientes</a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">🏭 Proveedores</a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">⚙️ Configuración</a>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="header">
            <h1 class="page-title">👥 Gestión de Usuarios</h1>
            <button class="btn btn-primary" onclick="openModal('userModal')">
                + Nuevo Usuario
            </button>
        </div>

        <!-- Stats -->
        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-number">12</div>
                <div class="stat-label">Total Usuarios</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">3</div>
                <div class="stat-label">Administradores</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">4</div>
                <div class="stat-label">Vendedores</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">3</div>
                <div class="stat-label">Instaladores</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">2</div>
                <div class="stat-label">Distribuidores</div>
            </div>
        </div>

        <!-- Controls -->
        <div class="card">
            <div class="card-body">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <input type="text" class="search-box" placeholder="🔍 Buscar usuarios..." id="searchInput">
                    <div class="view-toggle">
                        <button class="toggle-btn active" onclick="toggleView('grid')">🔲 Vista Tarjetas</button>
                        <button class="toggle-btn" onclick="toggleView('table')">📋 Vista Tabla</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Users Grid View -->
        <div id="gridView" class="users-grid">
            <!-- Admin Users -->
            <div class="user-card">
                <div class="user-avatar">M</div>
                <div class="user-info">
                    <h3>Manolo García</h3>
                    <span class="user-role admin">Admin</span>
                    <p style="color: #666; font-size: 14px;">manolo@smartfree.mx</p>
                    <p style="color: #666; font-size: 14px;">Control total del sistema</p>
                    <span class="status-badge status-active">Activo</span>
                </div>
                <div class="user-actions">
                    <button class="btn btn-secondary btn-sm" onclick="editUser(1)">✏️ Editar</button>
                    <button class="btn btn-danger btn-sm">🔒 Desactivar</button>
                </div>
            </div>

            <div class="user-card">
                <div class="user-avatar">A</div>
                <div class="user-info">
                    <h3>Ana López</h3>
                    <span class="user-role admin">Admin</span>
                    <p style="color: #666; font-size: 14px;">ana@smartfree.mx</p>
                    <p style="color: #666; font-size: 14px;">Administradora general</p>
                    <span class="status-badge status-active">Activo</span>
                </div>
                <div class="user-actions">
                    <button class="btn btn-secondary btn-sm" onclick="editUser(2)">✏️ Editar</button>
                    <button class="btn btn-danger btn-sm">🔒 Desactivar</button>
                </div>
            </div>

            <!-- Vendedores -->
            <div class="user-card">
                <div class="user-avatar">C</div>
                <div class="user-info">
                    <h3>Carlos Ruiz</h3>
                    <span class="user-role vendedor">Vendedor</span>
                    <p style="color: #666; font-size: 14px;">carlos@smartfree.mx</p>
                    <p style="color: #666; font-size: 14px;">Punto de venta principal</p>
                    <span class="status-badge status-active">Activo</span>
                </div>
                <div class="user-actions">
                    <button class="btn btn-secondary btn-sm" onclick="editUser(3)">✏️ Editar</button>
                    <button class="btn btn-danger btn-sm">🔒 Desactivar</button>
                </div>
            </div>

            <div class="user-card">
                <div class="user-avatar">M</div>
                <div class="user-info">
                    <h3>María González</h3>
                    <span class="user-role vendedor">Vendedor</span>
                    <p style="color: #666; font-size: 14px;">maria@smartfree.mx</p>
                    <p style="color: #666; font-size: 14px;">Ventas y cotizaciones</p>
                    <span class="status-badge status-active">Activo</span>
                </div>
                <div class="user-actions">
                    <button class="btn btn-secondary btn-sm" onclick="editUser(4)">✏️ Editar</button>
                    <button class="btn btn-danger btn-sm">🔒 Desactivar</button>
                </div>
            </div>

            <!-- Instaladores -->
            <div class="user-card">
                <div class="user-avatar">L</div>
                <div class="user-info">
                    <h3>Luis Hernández</h3>
                    <span class="user-role instalador">Instalador</span>
                    <p style="color: #666; font-size: 14px;">luis@smartfree.mx</p>
                    <p style="color: #666; font-size: 14px;">Jefe de instalaciones</p>
                    <span class="status-badge status-active">Activo</span>
                </div>
                <div class="user-actions">
                    <button class="btn btn-secondary btn-sm" onclick="editUser(5)">✏️ Editar</button>
                    <button class="btn btn-danger btn-sm">🔒 Desactivar</button>
                </div>
            </div>

            <div class="user-card">
                <div class="user-avatar">R</div>
                <div class="user-info">
                    <h3>Roberto Sánchez</h3>
                    <span class="user-role instalador">Instalador</span>
                    <p style="color: #666; font-size: 14px;">roberto@smartfree.mx</p>
                    <p style="color: #666; font-size: 14px;">Instalador especializado</p>
                    <span class="status-badge status-active">Activo</span>
                </div>
                <div class="user-actions">
                    <button class="btn btn-secondary btn-sm" onclick="editUser(6)">✏️ Editar</button>
                    <button class="btn btn-danger btn-sm">🔒 Desactivar</button>
                </div>
            </div>

            <!-- Distribuidores -->
            <div class="user-card">
                <div class="user-avatar">J</div>
                <div class="user-info">
                    <h3>Jorge Morales</h3>
                    <span class="user-role distribuidor">Distribuidor</span>
                    <p style="color: #666; font-size: 14px;">jorge@distribuidora.mx</p>
                    <p style="color: #666; font-size: 14px;">Distribuidor norte</p>
                    <span class="status-badge status-active">Activo</span>
                </div>
                <div class="user-actions">
                    <button class="btn btn-secondary btn-sm" onclick="editUser(7)">✏️ Editar</button>
                    <button class="btn btn-danger btn-sm">🔒 Desactivar</button>
                </div>
            </div>

            <div class="user-card">
                <div class="user-avatar">P</div>
                <div class="user-info">
                    <h3>Patricia Vega</h3>
                    <span class="user-role distribuidor">Distribuidor</span>
                    <p style="color: #666; font-size: 14px;">patricia@distribuidora.mx</p>
                    <p style="color: #666; font-size: 14px;">Distribuidor sur</p>
                    <span class="status-badge status-inactive">Inactivo</span>
                </div>
                <div class="user-actions">
                    <button class="btn btn-secondary btn-sm" onclick="editUser(8)">✏️ Editar</button>
                    <button class="btn btn-primary btn-sm">🔓 Activar</button>
                </div>
            </div>
        </div>

        <!-- Table View (Hidden by default) -->
        <div id="tableView" style="display: none;">
            <div class="card">
                <div class="card-body">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Usuario</th>
                                <th>Email</th>
                                <th>Rol</th>
                                <th>Estado</th>
                                <th>Último Acceso</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Manolo García</strong></td>
                                <td>manolo@smartfree.mx</td>
                                <td><span class="user-role admin">Admin</span></td>
                                <td><span class="status-badge status-active">Activo</span></td>
                                <td>Hace 2 horas</td>
                                <td>
                                    <button class="btn btn-secondary btn-sm">✏️</button>
                                    <button class="btn btn-danger btn-sm">🔒</button>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Ana López</strong></td>
                                <td>ana@smartfree.mx</td>
                                <td><span class="user-role admin">Admin</span></td>
                                <td><span class="status-badge status-active">Activo</span></td>
                                <td>Hace 1 día</td>
                                <td>
                                    <button class="btn btn-secondary btn-sm">✏️</button>
                                    <button class="btn btn-danger btn-sm">🔒</button>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Carlos Ruiz</strong></td>
                                <td>carlos@smartfree.mx</td>
                                <td><span class="user-role vendedor">Vendedor</span></td>
                                <td><span class="status-badge status-active">Activo</span></td>
                                <td>Hace 30 min</td>
                                <td>
                                    <button class="btn btn-secondary btn-sm">✏️</button>
                                    <button class="btn btn-danger btn-sm">🔒</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for New/Edit User -->
    <div id="userModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Nuevo Usuario</h3>
                <span class="close" onclick="closeModal('userModal')">&times;</span>
            </div>
            <form>
                <div class="form-group">
                    <label class="form-label">Nombre Completo</label>
                    <input type="text" class="form-control" placeholder="Ingrese el nombre completo">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" placeholder="usuario@smartfree.mx">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Contraseña</label>
                    <input type="password" class="form-control" placeholder="Contraseña segura">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Rol</label>
                    <select class="form-control">
                        <option value="">Seleccionar rol...</option>
                        <option value="admin">Administrador</option>
                        <option value="vendedor">Vendedor</option>
                        <option value="instalador">Instalador</option>
                        <option value="distribuidor">Distribuidor</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Teléfono</label>
                    <input type="tel" class="form-control" placeholder="555-123-4567">
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <input type="checkbox"> Usuario activo
                    </label>
                </div>

                <div class="permissions-grid">
                    <h4>Permisos por Rol:</h4>
                    <div class="permission-item">
                        <input type="checkbox" id="perm1">
                        <label for="perm1">Ver Dashboard</label>
                    </div>
                    <div class="permission-item">
                        <input type="checkbox" id="perm2">
                        <label for="perm2">Gestionar Inventario</label>
                    </div>
                    <div class="permission-item">
                        <input type="checkbox" id="perm3">
                        <label for="perm3">Punto de Venta</label>
                    </div>
                    <div class="permission-item">
                        <input type="checkbox" id="perm4">
                        <label for="perm4">Ver Operaciones</label>
                    </div>
                </div>
                
                <div style="margin-top: 20px; text-align: right;">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('userModal')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Guardar Usuario</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function toggleView(viewType) {
            const gridView = document.getElementById('gridView');
            const tableView = document.getElementById('tableView');
            const toggleBtns = document.querySelectorAll('.toggle-btn');
            
            toggleBtns.forEach(btn => btn.classList.remove('active'));
            
            if (viewType === 'grid') {
                gridView.style.display = 'grid';
                tableView.style.display = 'none';
                event.target.classList.add('active');
            } else {
                gridView.style.display = 'none';
                tableView.style.display = 'block';
                event.target.classList.add('active');
            }
        }

        function editUser(userId) {
            // Simular carga de datos del usuario
            openModal('userModal');
            document.querySelector('.modal-header h3').textContent = 'Editar Usuario';
        }

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const userCards = document.querySelectorAll('.user-card');
            
            userCards.forEach(card => {
                const userName = card.querySelector('h3').textContent.toLowerCase();
                const userEmail = card.querySelector('p').textContent.toLowerCase();
                
                if (userName.includes(searchTerm) || userEmail.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }
    </script>
</body>
</html>